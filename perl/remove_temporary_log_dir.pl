#!/usr/local/bin/perl

#  Copyright 2008, by the California Institute of Technology.  ALL RIGHTS
#  RESERVED. United States Government Sponsorship acknowledged. Any commercial
#  use must be negotiated with the Office of Technology Transfer at the
#  California Institute of Technology.
#
# $Id$
# DO NOT EDIT THE LINE ABOVE - IT IS AUTOMATICALLY GENERATED BY CM

#
#
# Function removes the temporary log directory.
#
# Assumption(s):
#
#   1.  Environment variable SCRATCH_AREA is defined.
#   2.  Directory is empty.
#   3.  The directory is name is $SCRATCH_AREA/run_logs/__$ENV{RANDOM_NUMBER}.$i_datasource
#
#------------------------------------------------------------------------------------------------

sub remove_temporary_log_dir {

    #
    # Get input(s).
    #
    
    my $i_datasource        = lc($_[0]);

    #
    # Local variables.
    #

    my $RUN_LOGS_DIR     = "current_logs";  # Directory sub to scratch_area.
    my $scratch_area     = $ENV{SCRATCH_AREA}; 
    my $log_dir          = $scratch_area . "/" . $RUN_LOGS_DIR;
    my $processing_directory = $log_dir . "/" . "__" . $ENV{RANDOM_NUMBER}
                               . "." . $i_datasource;

print "remove_temporary_log_dir: rmdir $processing_directory\n";
    rmdir $processing_directory;

    # ---------- Close up shop ----------
    return;

} # end sub remove_temporary_log_dir
