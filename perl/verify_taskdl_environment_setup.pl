#!/usr/local/bin/perl

#  Copyright 2008, by the California Institute of Technology.  ALL RIGHTS
#  RESERVED. United States Government Sponsorship acknowledged. Any commercial
#  use must be negotiated with the Office of Technology Transfer at the
#  California Institute of Technology.
#
# $Id$
# DO NOT EDIT THE LINE ABOVE - IT IS AUTOMATICALLY GENERATED BY CM

# Function checks whether the environment variable TASKDL2_DIR is set correctly.
#
# Assumption(s):
#
#   1. The TASKDL2_DIR is set to "/usr/depot/cots/redhat/taskdl/taskdl-jpl";
#
#------------------------------------------------------------------------------------------------

sub verify_taskdl_environment_setup
{
    # Function returns 1 if environment TASKDL2_DIR is set to /usr/depot/cots/redhat/taskdl/taskdl-jpl
    # and 0 if otherwise.

    # Returned variable(s):

    my $r_environment_is_set = 0; 

    # Local variables.

    my $EXPECTED_ENVIRONMENT = "/usr/depot/cots/redhat/taskdl/taskdl-jpl";

    # Get the environment definition.

    my $taskdl_env = $ENV{TASKDL2_DIR};

#print "taskdl_env = [$taskdl_env]\n";

    # Make sure the environment is set to what we expect to see.

    if ($taskdl_env eq $EXPECTED_ENVIRONMENT) {

        # The environment is set, now we check to see if the directory exist.

        if (-e $taskdl_env) {
#            print "verify_taskdl_environment_setup: INFO, Directory [$taskdl_env] exists.\n";
            $r_environment_is_set = 1;
        } else {
            print "verify_taskdl_environment_setup: ERROR, TASKDL2_DIR environment is set to [$taskdl_env]\n";
            print "verify_taskdl_environment_setup: but the directory does not exist.\n";
        }

    } else {
        print "verify_taskdl_environment_setup: ERROR, TASKDL2_DIR environment is not set correctly.\n";
        print "verify_taskdl_environment_setup: EXPECTED_ENVIRONMENT = [$EXPECTED_ENVIRONMENT]\n";
        print "verify_taskdl_environment_setup: taskdl_env           = [$taskdl_env]\n";
    }

#print "r_environment_is_set = [$r_environment_is_set]\n";

    return ($r_environment_is_set);
}

#my $l_environment_is_set = verify_taskdl_environment_setup();
#print "l_environment_is_set = [$l_environment_is_set]\n";
